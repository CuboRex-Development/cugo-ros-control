<launch>
  <!-- args for laserfilter -->
  <arg name="laser_filter_file" default="config/laser_filters/v3ros_filter.yaml"/>

  <!-- Static TF-->
  <!--node pkg="tf" type="static_transform_publisher" name="laser_tf_broadcaster" args="0 0 0.16 0 0 0 base_link laser 10" /-->

  <!-- laser_filter -->
  <node pkg="laser_filters" type="scan_to_scan_filter_chain" name="laser_filter">
    <rosparam command="load" file="$(find cugo_ros_control)/$(arg laser_filter_file)" />
    <remap from="scan" to="scan_raw" />
    <remap from="scan_filtered" to="scan" />
  </node>

  <!-- LiDAR -->
  <!--include file="$(find rplidar_ros)/launch/rplidar_s2e.launch" /-->

  <node name="rplidarNode"          pkg="rplidar_ros"  type="rplidarNode" output="screen"> 
    <param name="channel_type"        type="string" value="udp"/>   
    <param name="udp_ip"              type="string" value="192.168.11.2"/>   
    <param name="frame_id"            type="string" value="laser"/> 
    <param name="inverted"            type="bool"   value="false"/> 
    <param name="angle_compensate"    type="bool"   value="true"/> 
    <param name="scan_mode"           type="string" value="Sensitivity"/> 
    <param name="scan_frequency"      type="int"  value="10"/> 
    <remap from="scan" to="scan_raw" />
  </node>

  <!-- rviz -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find rplidar_ros)/rviz/rplidar.rviz" />

</launch>
